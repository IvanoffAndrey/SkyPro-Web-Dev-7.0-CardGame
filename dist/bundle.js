(()=>{"use strict";new class{constructor(t){if(!(t instanceof HTMLElement))throw new Error("Передан не HTMLElement");this.element=t,this.difficulty="",this.minute,this.second,this.levels={1:6,2:12,3:18},this.start()}start(){this.element.innerHTML="";const t=document.createElement("div");t.classList.add("game__start-window");const e=document.createElement("h1");e.classList.add("game__header"),e.textContent="Выбери сложность";const i=document.createElement("div");i.classList.add("game__menu-difficulty");for(let t=1;t<=3;t++){let e=document.createElement("button");e.classList.add("difficulty"),e.textContent=`${t}`,e.setAttribute("data-difficulty",`${t}`),i.appendChild(e)}let n=i.querySelectorAll(".difficulty");const s=document.createElement("button");s.classList.add("game__button","game__button_start"),s.textContent="Старт";const a=document.createElement("p");a.textContent="Выберите сложность",a.classList.add("warning","warning_hidden"),t.appendChild(e),t.appendChild(i),t.appendChild(s),t.appendChild(a),this.element.appendChild(t),i.addEventListener("click",(t=>{const e=t.target;this.difficulty=e.dataset.difficulty,console.log(this.difficulty),n.forEach((t=>{t.dataset.difficulty==this.difficulty?(t.classList.add("difficulty_active"),a.classList.add("warning_hidden")):t.classList.remove("difficulty_active")}))})),s.addEventListener("click",(()=>{""===this.difficulty||void 0===this.difficulty?a.classList.remove("warning_hidden"):this.gameWindow()}))}gameWindow(){console.log("загрузка");const t=["6C","6D","6H","6S","7C","7D","7H","7S","8C","8D","8H","8S","9C","9D","9H","9S","TC","TD","TH","TS","JC","JD","JH","JS","QC","QD","QH","QS","KC","KD","KH","KS","AC","AD","AH","AS"];let e=[];this.element.innerHTML="",this.element.classList.add("position-top");const i=document.createElement("div");i.classList.add("game__menu");const n=document.createElement("div");n.classList.add("game__time");const s=document.createElement("div");s.classList.add("game__time-titles");const a=document.createElement("div");a.classList.add("game__time-title","game__time-title_min"),a.textContent="min";const d=document.createElement("div");d.classList.add("game__time-title","game__time-title_sec"),d.textContent="sec";const c=document.createElement("div");c.classList.add("game__time-digits");const l=document.createElement("div");l.classList.add("game__time-digit","game__time-digit_min"),l.textContent="00";const o=document.createElement("div");o.textContent=".",o.classList.add("game__time-digit");const m=document.createElement("div");m.classList.add("game__time-digit","game__time-digit_sec"),m.textContent="00",s.appendChild(a),s.appendChild(d),c.appendChild(l),c.appendChild(o),c.appendChild(m),n.appendChild(s),n.appendChild(c);const r=document.createElement("button");r.classList.add("game__button","game__button_play-again"),r.textContent="Начать заново",i.appendChild(n),i.appendChild(r);const u=document.createElement("div");u.classList.add("game__card-field");for(let i=1;i<=this.levels[this.difficulty]/2;i++){let i=t[Math.floor(Math.random()*t.length)];e.push(i)}e=e.concat(e),e=e.sort((()=>Math.random()-.5)),console.log(e);for(let t=0;t<=this.levels[this.difficulty]-1;t++){let i=document.createElement("div");i.classList.add("game__card");const n=document.createElement("img");n.setAttribute("src","./static/img/shirt.svg"),n.classList.add("card"),i.appendChild(n),n.setAttribute("data-card",`${e[t]}`),u.appendChild(i)}this.element.appendChild(i),this.element.appendChild(u);let h=document.querySelectorAll(".card");r.addEventListener("click",(()=>{this.element.classList.remove("position-top"),this.start()})),setTimeout((()=>{h.forEach((t=>{t.setAttribute("src",`./static/img/${t.dataset.card}.svg`)})),this.gameStart()}),1e3)}gameStart(){console.log("игра");let t=document.querySelectorAll(".card");setTimeout((()=>{t.forEach((t=>{t.setAttribute("src","./static/img/shirt.svg")})),this.cardСompare()}),5e3)}cardСompare(){let t,e=0,i=document.querySelector(".game__time-digit_sec"),n=document.querySelector(".game__time-digit_min");t=setInterval((function(){e+=1/60,this.second=Math.floor(e)-60*Math.floor(e/60),this.minute=Math.floor(e/60),i.textContent=this.second<10?"0"+this.second.toString():this.second,n.textContent=this.minute<10?"0"+this.minute.toString():this.minute}),1e3/60);let s="",a="",d=0;console.log(this.levels[this.difficulty]),document.querySelector(".game__card-field").addEventListener("click",(e=>{let i=e.target;i.dataset.card&&""===s?(i.setAttribute("src",`./static/img/${i.dataset.card}.svg`),s=i.dataset.card,d++,console.log(d)):i.dataset.card&&""!==s&&""===a&&(i.setAttribute("src",`./static/img/${i.dataset.card}.svg`),a=i.dataset.card,d++,console.log(d),s===a?(s="",a="",d===this.levels[this.difficulty]&&(this.win(),clearInterval(t))):(this.lose(),clearInterval(t)))}))}win(){const t=document.createElement("div");t.classList.add("game__final-window");const e=document.createElement("img");e.classList.add("game__final-img"),e.setAttribute("src","./static/img/win.png");const i=document.createElement("h1");i.classList.add("game__header"),i.textContent="Вы выиграли!";const n=document.createElement("h3");n.classList.add("game__final-time-title"),n.textContent="Затраченное время:";const s=document.createElement("div");s.classList.add("game__final-time-digit"),s.textContent=`${minute<10?"0"+minute.toString():minute}.${second<10?"0"+second.toString():second} `;const a=document.createElement("button");a.classList.add("game__button","game__button_play-again"),a.textContent="Играть снова",t.appendChild(e),t.appendChild(i),t.appendChild(n),t.appendChild(s),t.appendChild(a),this.element.appendChild(t),a.addEventListener("click",(()=>{this.element.classList.remove("position-top"),this.start()})),minute=0,second=0}lose(){const t=document.createElement("div");t.classList.add("game__final-window");const e=document.createElement("img");e.classList.add("game__final-img"),e.setAttribute("src","./static/img/lose.png");const i=document.createElement("h1");i.classList.add("game__header"),i.textContent="Вы проиграли!";const n=document.createElement("h3");n.classList.add("game__final-time-title"),n.textContent="Затраченное время:";const s=document.createElement("div");s.classList.add("game__final-time-digit"),s.textContent=`${minute<10?"0"+minute.toString():minute}.${second<10?"0"+second.toString():second} `;const a=document.createElement("button");a.classList.add("game__button","game__button_play-again"),a.textContent="Играть снова",t.appendChild(e),t.appendChild(i),t.appendChild(n),t.appendChild(s),t.appendChild(a),this.element.appendChild(t),a.addEventListener("click",(()=>{this.element.classList.remove("position-top"),this.start()})),minute=0,second=0}}(document.querySelector(".game"))})();
//# sourceMappingURL=bundle.js.map