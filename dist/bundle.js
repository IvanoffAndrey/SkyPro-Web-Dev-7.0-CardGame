(()=>{"use strict";new class{constructor(t){if(!(t instanceof HTMLElement))throw new Error("Передан не HTMLElement");this.element=t,this.difficulty="",this.levels={1:6,2:12,3:18},this.start()}start(){this.element.innerHTML="";const t=document.createElement("div");t.classList.add("game__start-window");const e=document.createElement("h1");e.classList.add("game__header"),e.textContent="Выбери сложность";const i=document.createElement("div");i.classList.add("game__menu-difficulty");for(let t=1;t<=3;t++){let e=document.createElement("button");e.classList.add("difficulty"),e.textContent=`${t}`,e.setAttribute("data-difficulty",`${t}`),i.appendChild(e)}let s=i.querySelectorAll(".difficulty");const a=document.createElement("button");a.classList.add("game__button","game__button_start"),a.textContent="Старт";const d=document.createElement("p");d.textContent="Выберите сложность",d.classList.add("warning","warning_hidden"),t.appendChild(e),t.appendChild(i),t.appendChild(a),t.appendChild(d),this.element.appendChild(t),i.addEventListener("click",(t=>{const e=t.target;this.difficulty=e.dataset.difficulty,console.log(this.difficulty),s.forEach((t=>{t.dataset.difficulty==this.difficulty?(t.classList.add("difficulty_active"),d.classList.add("warning_hidden")):t.classList.remove("difficulty_active")}))})),a.addEventListener("click",(()=>{""===this.difficulty||void 0===this.difficulty?d.classList.remove("warning_hidden"):this.gameWindow()}))}gameWindow(){console.log("загрузка");const t=["6C","6D","6H","6S","7C","7D","7H","7S","8C","8D","8H","8S","9C","9D","9H","9S","TC","TD","TH","TS","JC","JD","JH","JS","QC","QD","QH","QS","KC","KD","KH","KS","AC","AD","AH","AS"];let e=[];this.element.innerHTML="",this.element.classList.add("position-top");const i=document.createElement("div");i.classList.add("game__menu");const s=document.createElement("div");s.classList.add("game__time");const a=document.createElement("div");a.classList.add("game__time-titles");const d=document.createElement("div");d.classList.add("game__time-title","game__time-title_min"),d.textContent="min";const c=document.createElement("div");c.classList.add("game__time-title","game__time-title_sec"),c.textContent="sec";const n=document.createElement("div");n.classList.add("game__time-digits"),n.textContent="00.00",a.appendChild(d),a.appendChild(c),s.appendChild(a),s.appendChild(n);const l=document.createElement("button");l.classList.add("game__button","game__button_play-again"),l.textContent="Начать заново",i.appendChild(s),i.appendChild(l);const o=document.createElement("div");o.classList.add("game__card-field");for(let i=1;i<=this.levels[this.difficulty]/2;i++){let i=t[Math.floor(Math.random()*t.length)];e.push(i)}e=e.concat(e),e=e.sort((()=>Math.random()-.5)),console.log(e);for(let t=0;t<=this.levels[this.difficulty]-1;t++){let i=document.createElement("div");i.classList.add("game__card");const s=document.createElement("img");s.setAttribute("src","./static/img/shirt.svg"),s.classList.add("card"),i.appendChild(s),s.setAttribute("data-card",`${e[t]}`),o.appendChild(i)}this.element.appendChild(i),this.element.appendChild(o);let r=document.querySelectorAll(".card");l.addEventListener("click",(()=>{this.element.classList.remove("position-top"),this.start()})),setTimeout((()=>{r.forEach((t=>{t.setAttribute("src",`./static/img/${t.dataset.card}.svg`),this.gameStart()}))}),1e3)}gameStart(){console.log("игра");let t=document.querySelectorAll(".card");setTimeout((()=>{t.forEach((t=>{t.setAttribute("src","./static/img/shirt.svg")})),this.cardСompare()}),5e3)}cardСompare(){let t="",e="",i=0;console.log(this.levels[this.difficulty]),document.querySelector(".game__card-field").addEventListener("click",(s=>{let a=s.target;a.dataset.card&&""===t?(a.setAttribute("src",`./static/img/${a.dataset.card}.svg`),t=a.dataset.card,i++,console.log(i)):a.dataset.card&&""!==t&&""===e&&(a.setAttribute("src",`./static/img/${a.dataset.card}.svg`),e=a.dataset.card,i++,console.log(i),t===e?(t="",e="",i===this.levels[this.difficulty]&&this.win()):this.lose())}))}win(){alert("победа")}lose(){alert("проиграл")}}(document.querySelector(".game"))})();
//# sourceMappingURL=bundle.js.map